---
import { DateTime } from "luxon";
import Layout from "../../layouts/Layout.astro";
import NewsItem from "../../components/news/NewsItem.astro";
import YouTube from "../../components/YouTube.astro";
import { Image } from "astro:assets";
import zod4Image from "../../images/zod-4-release.png";

const date = DateTime.fromObject({ month: 4, day: 11, year: 2025 }).setZone(
  "America/Chicago",
);
---

<Layout>
  <main class="prose">
    <h1>Dev Reads - {date.toLocaleString({ dateStyle: "medium" })}</h1>

    <NewsItem
      title="Containers are coming to Cloudflare Workers in June 2025"
      originalLink="https://blog.cloudflare.com/cloudflare-containers-coming-2025/"
    >
      <Fragment slot="quote">
        <p>
          Imagine you are building a platform where end-users can run code
          generated by an LLM. This code is untrusted, so each user needs their
          own secure sandbox. Additionally, you want users to be able to run
          multiple requests in sequence, potentially writing to local files or
          saving in-memory state.
        </p>
        <p>
          To do this, you need to create a container on-demand for each user
          session, then route subsequent requests to that container.
        </p>
      </Fragment>
    </NewsItem>

    <NewsItem
      title="Introducing Zod 4 beta"
      originalLink="https://v4.zod.dev/v4"
    >
      <Fragment slot="content">
        <div class="w-full relative">
          <Image
            class="size-auto object-contain"
            alt="Zod 4 release table of contents"
            src={zod4Image}
          />
        </div>
        <YouTube
          title="Zod 4 is out, and it is CRAZY"
          src="https://www.youtube.com/embed/xcm53k0ePmY?si=lPCIpOZL5emuZE8D"
        />
      </Fragment>
    </NewsItem>

    <NewsItem
      title="TypeSpec 1.0-RC"
      originalLink="https://typespec.io/blog/2025-03-31-typespec-1-0-release/"
    >
      <Fragment slot="quote">
        TypeSpec is an open source language and tooling for describing API
        contracts, created by Microsoft and shared with the community. Using
        TypeSpec, you write your API definition in a concise, human-readable
        format, and TypeSpec takes care of generating:

        <ul>
          <li>API specifications (OpenAPI, JSON Schema, Protocol Buffers)</li>
          <li>
            Server-side code skeletons (C#, JavaScript today, with more
            languages coming soon)
          </li>
          <li>
            Client libraries in multiple languages (JavaScript, Python, C#, Java
            today, with more languages coming soon)
          </li>
          <li>Documentation</li>
          <li>Custom formats through our emitter framework</li>
        </ul>
      </Fragment>
    </NewsItem>

    <NewsItem
      title="How to Sync Anything"
      originalLink="https://neighbourhood.ie/blog/2025/04/06/how-to-sync-anything"
    >
      <Fragment slot="quote">
        Ad-hoc replication is characterised by reactions to changes that can be
        ignored, fabricated, misinterpreted, reordered, dropped, or executed
        multiple times, with no reliable way to check and ensure that the target
        is in sync with the source. It inevitably produces inconsistent states
        that are hard to debug, not least because there is no formal definition
        of what state the target should be in, given some state of the source.
      </Fragment>
    </NewsItem>

    <NewsItem
      title="Why you should use ??, not ||"
      originalLink="https://allthingssmitty.com/2025/04/10/mastering-default-values-in-javascript-with-the-nullish-coalescing-operator/"
    >
      <Fragment slot="quote">
        <p>
          This distinction helps prevent unintended consequences that can arise
          when using ||, particularly when working with numbers or empty
          strings.
        </p>
        <p>
          By using ??, you can avoid unexpected results and write more
          predictable, reliable JavaScript code that handles default values with
          precision.
        </p>
      </Fragment>
    </NewsItem>

    <NewsItem
      title="BREAKING: China Strikes Back (145% Price Increase Starts Now)"
      originalLink="https://www.youtube.com/watch?v=b75Okixf2No"
    >
      <Fragment slot="content">
        <YouTube
          src="https://www.youtube.com/embed/b75Okixf2No?si=IdK2XWsByCBq3DKY"
          title="BREAKING: China Strikes Back (145% Price Increase Starts Now)"
        />
      </Fragment>
    </NewsItem>
  </main>
</Layout>
